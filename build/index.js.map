{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 16ebdb08032b2e66e41e","webpack:///./src/logger.ts","webpack:///./src/index.ts","webpack:///./src/ReloadPlugin.ts","webpack:///./src/socketServer.ts","webpack:///external \"http\"","webpack:///external \"chalk\"","webpack:///external \"websocket-driver\"","webpack:///external \"lodash\"","webpack:///./src/abstractPlugin.ts","webpack:///external \"webpack-sources\"","webpack:///./src/tools.ts","webpack:///external \"fs\"","webpack:///external \"module\"","webpack:///./src/client.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"chalk\"), require(\"websocket-driver\"), require(\"lodash\"), require(\"webpack-sources\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"chalk\", \"websocket-driver\", \"lodash\", \"webpack-sources\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"chalk\"), require(\"websocket-driver\"), require(\"lodash\"), require(\"webpack-sources\")) : factory(root[\"chalk\"], root[\"websocket-driver\"], root[\"lodash\"], root[\"webpack-sources\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_9__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \".\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 16ebdb08032b2e66e41e","import chalk from \"chalk\"\r\nlet prefix: string = '[WCER]: '\r\n\r\nexport const log = (message: string) => console.log(prefix+message)\r\nexport const info =  (message: string) => console.info(chalk.green(prefix+message))\r\nexport const warn =  (message: string) => console.warn(chalk.yellow(prefix+message))\r\nexport const error = (message: string) => console.error(chalk.red(prefix+message))\r\nexport const debug = (message: string) => console.debug(chalk.white(prefix+message))\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0-0!./src/logger.ts","import ReloadPlugin from \"./ReloadPlugin\"\r\nexport = ReloadPlugin\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0-0!./src/index.ts","import * as fs from \"fs\"\r\nimport Server from \"./socketServer\"\r\nimport {info, error} from \"./logger\"\r\nimport {merge, template} from \"lodash\"\r\nimport AbstractPlugin from \"./abstractPlugin\"\r\nimport {ConcatSource} from \"webpack-sources\"\r\nimport {requirePath} from \"./tools\"\r\nimport * as client from \"raw-loader!./client.ts\"\r\n\r\nlet chunkVersions: object = {}\r\nlet manifestTimestamp: number\r\n\r\nexport default class ReloadPlugin extends AbstractPlugin {\r\n  private port: number\r\n  private server: Server | null = null\r\n  private manifest: Manifest\r\n  private manifestPath: string\r\n  constructor({port, manifest}: Options) {\r\n    super();\r\n    this.port = port || 9090 \r\n    this.manifestPath = manifest || null\r\n  }\r\n  sourceFactory(...sources): Source {\r\n    return new ConcatSource(...sources)\r\n  } \r\n  watcher (comp, done) {\r\n    if(!this.server && this.manifestPath) {\r\n      this.server = new Server(this.port)\r\n    }\r\n    return done()\r\n  }\r\n  compile (comp) {\r\n    try {\r\n      this.manifest = requirePath(`${this.manifestPath}`)\r\n    } catch(err) {\r\n      error((<Error>err).message)\r\n    }\r\n  }\r\n  injector(comp, chunks) {\r\n    let WSHost =  `ws://localhost:${this.port}/`\r\n    if(!this.server || !this.manifest) return false;\r\n    let {background} = this.manifest;\r\n    let assets = chunks.reduce((res, chunk) => {\r\n      let [filename] = chunk.files;\r\n      if (/\\.js$/.test(filename)) {\r\n        let source = template(client)({\r\n          filename, \r\n          id: chunk.id,\r\n          name: chunk.name || null,\r\n          WSHost\r\n        })\r\n        res[filename] = this.sourceFactory(source, comp.assets[filename])\r\n      }\r\n      return res\r\n    }, {})\r\n    if(!background ||!(background.page || background.scripts)) {\r\n      let scripts: string ='background.reload.js';\r\n      let source = template(client)({\r\n        filename: [scripts],\r\n        id: '-1',\r\n        name: scripts,\r\n        WSHost\r\n      })\r\n      this.manifest.background = {scripts:[scripts], persistent: false}\r\n      assets[scripts] = { \r\n        source: () => source, \r\n        size: () => source.length \r\n      }\r\n    }\r\n    comp.assets = Object.assign({}, comp.assets, assets)\r\n  }\r\n  triggered (comp, done) {\r\n    if(!this.server || !this.manifest) return done();\r\n    let { content_scripts, background } = this.manifest;\r\n    let scripts = background.scripts ? background.scripts : [];\r\n    if(content_scripts && content_scripts.length) {\r\n      content_scripts.forEach(content => scripts = scripts.concat(content.js));\r\n    }\r\n    info(' Starting the Chrome Hot Plugin Reload Server...')\r\n    comp.chunks.forEach(function(chunk, name) {\r\n      var hash = chunkVersions[chunk.name];\r\n      chunkVersions[chunk.name] = chunk.hash;\r\n      if(chunk.hash !== hash ) {\r\n        let changed = chunk.files.filter( file => scripts.indexOf(file) !== -1)\r\n        if(changed.length) {\r\n          this.server.signRestart()\r\n        } else {\r\n          this.server.signReload(chunk.id, chunk.id)\r\n        }\r\n      }\r\n    }.bind(this))\r\n  \r\n    let manifest = comp.fileTimestamps[this.manifestPath]\r\n    if ((manifestTimestamp || 1) < (manifest || Infinity)) {\r\n      manifestTimestamp = Date.now();\r\n      console.log('manifestTimestamp')\r\n      this.server.signRestart()\r\n    }\r\n    return done()\r\n  }\r\n  generate(comp, done) {\r\n    if(!this.manifest) return done()\r\n    // comp.fileDependencies.push(this.manifestPath)\r\n    // form https://github.com/wheeljs\r\n    const {fileDependencies} = comp;\r\n    if (fileDependencies instanceof Set) {\r\n      fileDependencies.add(this.manifestPath)\r\n    } else {\r\n      fileDependencies.push(this.manifestPath)\r\n    }\r\n    let source = JSON.stringify(this.manifest)\r\n    comp.assets['manifest.json'] = {\r\n      source: () => source,\r\n      size: () => source.length\r\n    }\r\n    return done()\r\n  }\r\n  apply(compiler) { \r\n    compiler.hooks.watchRun.tap(\"ReloadPlugin\", (comp, done) => this.watcher(comp, done))\r\n    compiler.hooks.compile.tap(\"ReloadPlugin\", (comp) => this.compile(comp))\r\n    compiler.hooks.compilation.tap('ReloadPlugin',\r\n    (comp) => comp.plugin('after-optimize-chunk-assets',\r\n      (chunks) => this.injector(comp, chunks)))\r\n    compiler.hooks.afterEmit.tap('ReloadPlugin', (comp, done) => this.triggered(comp, done))\r\n    compiler.hooks.emit.tap('ReloadPlugin', (comp, done) => this.generate(comp, done))\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0-0!./src/ReloadPlugin.ts","import * as path from \"path\";\r\nimport * as http from \"http\";\r\nimport { info, error, warn } from \"./logger\"\r\nimport * as websocket from \"websocket-driver\";\r\nimport * as cert from \"raw-loader!../ssl/server.crt\"\r\nimport * as key from \"raw-loader!../ssl/key.pem\"\r\n\r\nexport default class HotReloaderServer {\r\n  private server: http.Server;\r\n  private sockets: {[key:string]: Socket} = {};\r\n  constructor(port: number, host:string = 'localhost') {\r\n    this.server = http.createServer(function(req, res){ \r\n      let data = '<h1>WCER</h1><p>Webpack plugin to enable reloading while developing Chrome extensions.</p>'\r\n      res.writeHead(200, {'Content-Type': 'text/html','Content-Length':data.length})\r\n      res.write(data);\r\n      res.end();\r\n    })\r\n    this.server.on('error', err => error(err.message))\r\n    this.server.on('upgrade', (req, socket, head) => this.handleUpgrade(req, socket, head))\r\n    this.server.listen(port, host)\r\n  }\r\n  private handleUpgrade(req, socket, head) {\r\n    if (!websocket.isWebSocket(req)) return;\r\n    let driver = websocket.http(req)\r\n    let id = req.url.match(/^\\/([^\\/]*)/)[1]\r\n    driver.io.write(head)\r\n    this.sockets[id] = driver\r\n    socket.pipe(driver.io).pipe(socket)\r\n    driver.messages.on('data', data => this.message(data, id))\r\n    driver.on('close', () => delete this.sockets[id])\r\n    driver.start()\r\n  }\r\n  private message (json: string, id: string) {\r\n    let {type, data} = JSON.parse(json)\r\n    if(type === 'error') return error(`${data}`)\r\n    if(type === 'warn') return warn(`${data}`)\r\n    info(`${data}`)\r\n  }\r\n  sign(type: string, data: any, sockets?: Array<number> | number): Promise<any> {\r\n    if(typeof sockets !== 'undefined') {\r\n      let socks = Array.isArray(sockets) ? sockets : [sockets]\r\n      for(let sock of socks) {\r\n        if(this.sockets[sock]) {\r\n          this.sockets[sock].text(JSON.stringify({ type, data }))\r\n        }\r\n      }\r\n    } else {\r\n      for(let sock in this.sockets) {\r\n        this.sockets[sock].text(JSON.stringify({ type, data }))\r\n      }\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n  signRestart(sock?: number) {\r\n    return this.sign('restart', true, sock)\r\n  }\r\n  signReload(id:number, sock?: number) {\r\n    return this.sign('reload', {id}, sock)\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0-0!./src/socketServer.ts","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 4\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"websocket-driver\"\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 7\n// module chunks = 0","import { Plugin } from \"webpack\";\r\nexport default abstract class AbstractPlugin implements Plugin {\r\n  context: any;\r\n\r\n  abstract apply(options?: any);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0-0!./src/abstractPlugin.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack-sources\"\n// module id = 9\n// module chunks = 0","import * as fs from \"fs\"\r\nvar Module = require('module')\r\nexport function requirePath(filename:string):any {\r\n  if(!fs.existsSync(filename)) {\r\n    throw new TypeError('Not found manifest file!')\r\n  }\r\n  let code:string = fs.readFileSync(filename, 'utf8')\r\n  let mod = new Module(filename)\r\n  mod.filename = filename\r\n  mod._compile(code, filename)\r\n  mod.paths = Module._nodeModulePaths(filename)\r\n  return mod.exports\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader??ref--0-0!./src/tools.ts","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"module\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"module\"\n// module id = 12\n// module chunks = 0","module.exports = \"/* -------------------------------------------------- */\\r\\n/*  Start of Webpack Chrome Hot Extension Middleware  */\\r\\n/* ================================================== */\\r\\n/*  This will be converted into a lodash templ., any  */\\r\\n/*  external argument must be provided using it       */\\r\\n/* -------------------------------------------------- */\\r\\nvar WebpackReloadPlugin = false;\\r\\n(function (chrome, window) {\\r\\n    const name = '<%= name %>';\\r\\n    const id = parseInt('<%= id %>');\\r\\n    const wsHost = '<%= WSHost %>';\\r\\n    const filename = '<%= filename %>';\\r\\n    const { runtime, tabs } = chrome;\\r\\n    const logger = (msg, level = 'info') => console[level]('[ WCER: ' + msg + ' ]');\\r\\n    const manifest = (runtime && runtime.getManifest) ? runtime.getManifest() : undefined;\\r\\n    var path = (manifest ? manifest.name + ' | ' : '') + (name || filename);\\r\\n    if (path.length > 43)\\r\\n        path = path.slice(0, 20) + '...' + path.slice(-20);\\r\\n    function init() {\\r\\n        let timerId = null;\\r\\n        let socket = null;\\r\\n        try {\\r\\n            socket = new WebSocket(wsHost + id.toString());\\r\\n        }\\r\\n        catch (err) {\\r\\n            console.log(err);\\r\\n        }\\r\\n        let send = (type, data) => {\\r\\n            if (typeof data === 'string') {\\r\\n                data = (new Date()).toTimeString().replace(/.*(\\\\d{2}:\\\\d{2}:\\\\d{2}).*/, \\\"$1\\\") + ' - ' + path + ' | ' + data;\\r\\n            }\\r\\n            socket.send(JSON.stringify({ type, data }));\\r\\n        };\\r\\n        socket.onopen = () => {\\r\\n            logger(wsHost);\\r\\n            clearTimeout(timerId);\\r\\n            WebpackReloadPlugin = true;\\r\\n        };\\r\\n        socket.onmessage = ({ data: json }) => {\\r\\n            const { type, data } = JSON.parse(json);\\r\\n            if (runtime.reload && type === 'restart') {\\r\\n                send('restart', 'successfully restart');\\r\\n                runtime.reload();\\r\\n                runtime.restart();\\r\\n            }\\r\\n            if (type === 'reload' && id === data.id) {\\r\\n                send('reloaded', 'successfully reloaded');\\r\\n                window.location.reload();\\r\\n            }\\r\\n        };\\r\\n        socket.onclose = ({ code }) => {\\r\\n            logger(\\\"Socket connection closed.\\\", 'warn');\\r\\n            timerId = setTimeout(() => {\\r\\n                logger('WEPR Attempting to reconnect ...');\\r\\n                init();\\r\\n                logger('Reconnected. Reloading plugin');\\r\\n            }, 2000);\\r\\n        };\\r\\n        window.onbeforeunload = () => socket.close();\\r\\n    }\\r\\n    !WebpackReloadPlugin ? init() : logger('WebpackReloadPlugin: Socket already started !');\\r\\n})(chrome, window);\\r\\n/* ----------------------------------------------- */\\r\\n/* End of Webpack Chrome Hot Extension Middleware  */\\r\\n/* ----------------------------------------------- */ \\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/raw-loader!./src/client.ts\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}